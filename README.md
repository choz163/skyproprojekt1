# Проект: Работа с банковскими транзакциями

## Описание

Этот проект предназначен для работы с банковскими транзакциями. Он позволяет загружать данные о транзакциях из различных форматов файлов (JSON, CSV, XLSX), фильтровать, сортировать и выводить информацию о транзакциях.

Функции реализованные в проекте:

1. Masks - Функции маскировки номера банковской карты и номера счета
2. Widget - Функция принимает функции из Masks в одну и маскирует номера карты и счета,
а также функция изменения формата даты.
3. Processing - Функция, которая перебирает словари и возвращает их по заданному ключу.
И функция, которая перебирает словари и возвращает отсортированный список.
4. Generators - функции для работы с массивами транзакций.
5. Decorators - Декоратор автоматически логирует начало и конец выполнения функции,
    а также ее результаты или возникшие ошибки.
6. External_api - Конвертирует сумму из одной валюты в другую с помощью API данных о курсах валют.
7. Utils - Загружает данные финансовых транзакций из файла JSON.
8. Reading_operations - Считывает финансовые операции из CSV-файла и Excel-файла.
9. Bank_transactions - Находит и возвращает список транзакций, в описании которых содержится указанная строка. Подсчитывает и возвращает количество транзакций по категориям.
    Категории определяются по первому слову в описании транзакции.

## Установка:

Клонируйте репозиторий:
git clone: https://github.com/choz163/skyproprojekt1

Установите зависимости:
poetry install
pip install -r requirements.txt

## Зависимости

Для работы проекта необходимы следующие библиотеки:

openpyxl: библиотека для работы с XLSX-файлами.

json: встроенная библиотека для работы с JSON.

csv: встроенная библиотека для работы с CSV.

codecs: встроенная библиотека для работы с кодировками.

os: встроенная библиотека для работы с файловой системой.

Если вы используете pip, вы можете установить библиотеку openpyxl с помощью команды pip install openpyxl.

## Использование:
python = "^3.12.5"
requests = "^2.32.3"
python-dotenv = "^1.0.1"
pandas = "^2.2.3"
openpyxl = "^3.1.5"

Python = "3.12.5"
mypy =   "1.11.2"
black =  "24.8.0"
flake8 = "7.1.1"
isort =  "5.13.2"

## Тестирование проекта:

с помощью pytest = "8.3.3" в директории /tests

## Запуск проекта

Для запуска проекта выполните следующую команду:
python src/main.py

Функция main отвечает за основную логику проекта и связывает функциональности между собой. Она выполняет следующие шаги:
Приветствие пользователя: Программа приветствует пользователя и предлагает выбрать файл для загрузки транзакций.

Выбор файла: Пользователь может выбрать один из трех форматов файлов:

JSON

CSV

XLSX

Загрузка данных: Программа загружает данные о транзакциях из выбранного файла. Если файл не найден, программа выводит сообщение об ошибке и завершает работу.

Фильтрация по статусу: Пользователь вводит статус (EXECUTED, CANCELED, PENDING) для фильтрации транзакций. Программа фильтрует транзакции по введенному статусу.

Сортировка по дате: Пользователь может выбрать, следует ли сортировать транзакции по дате. Если да, программа предлагает выбрать порядок сортировки (по возрастанию или по убыванию).

Фильтрация по рублевым транзакциям: Пользователь может выбрать, выводить ли только рублевые транзакции.

Фильтрация по слову в описании: Пользователь может выбрать, фильтровать ли транзакции по определенному слову в описании.

Вывод результатов: Программа выводит итоговый список транзакций, соответствующих условиям фильтрации. Если подходящих транзакций не найдено, программа выводит соответствующее сообщение.

Структура данных

Каждая транзакция представлена в виде словаря со следующими ключами:


id: Уникальный идентификатор транзакции.

state: Статус транзакции (EXECUTED, CANCELED).

date: Дата и время транзакции.

operationAmount: Сумма и валюта транзакции.

amount: Сумма транзакции.

currency: Валюта транзакции.

name: Название валюты.

code: Код валюты.

description: Описание транзакции.

from: Откуда была отправлена транзакция (если применимо).

to: Куда была отправлена транзакция.


Примечания


Убедитесь, что формат JSON корректен и соответствует ожидаемой структуре данных.

Для работы с CSV и XLSX файлами убедитесь, что они имеют правильную структуру данных.

